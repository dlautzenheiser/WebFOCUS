
-SET &RUNYEAR = &DATEYY; 
-SET &RUNMONTH  = &DATEM; 
-* -SET &RUNYEAR = 2022;
-* -SET &RUNMONTH = 1; 

 DEFINE FUNCTION MONTHNAM(MONTHNBR/I2)
   MONTHNAM/A12 = DECODE MONTHNBR (1 'January' 2 'February' 3 'March' 4 'April' 5 'May' 6 'June' 7 'July' 8 'August' 9 'September' 10 'October' 11 'November' 12 'December' ELSE 'BadMonth'); 
 END
-RUN 


-SET &CURRENT_CALENDAR_YEAR_NUMBER = &RUNYEAR; 
-SET &CURRENT_CALENDAR_MONTH_NUMBER = &RUNMONTH; 
-SET &CURRENT_CALENDAR_MONTH_DESC = MONTHNAM(&CURRENT_CALENDAR_MONTH_NUMBER.EVAL); 

-SET &UPCOMING_CALENDAR_YEAR_NUMBER = IF &CURRENT_CALENDAR_MONTH_NUMBER IS 12 THEN &CURRENT_CALENDAR_YEAR_NUMBER+1 ELSE &CURRENT_CALENDAR_YEAR_NUMBER; 
-SET &UPCOMING_CALENDAR_MONTH_NUMBER = IF &CURRENT_CALENDAR_MONTH_NUMBER IS 12 THEN 1 ELSE &CURRENT_CALENDAR_MONTH_NUMBER + 1; 
-SET &UPCOMING_CALENDAR_MONTH_DESC = MONTHNAM(&UPCOMING_CALENDAR_MONTH_NUMBER.EVAL); 

-SET &PREVIOUS_CALENDAR_YEAR_NUMBER = IF &CURRENT_CALENDAR_MONTH_NUMBER IS 1 THEN &CURRENT_CALENDAR_YEAR_NUMBER-1 ELSE &CURRENT_CALENDAR_YEAR_NUMBER; 
-SET &PREVIOUS_CALENDAR_MONTH_NUMBER = IF &CURRENT_CALENDAR_MONTH_NUMBER IS 1 THEN 12 ELSE &CURRENT_CALENDAR_MONTH_NUMBER - 1; 
-SET &PREVIOUS_CALENDAR_MONTH_DESC = MONTHNAM(&PREVIOUS_CALENDAR_MONTH_NUMBER.EVAL); 


-* reset if month is one digit 
-SET &CURRENT_CALENDAR_MONTH_NUMBER = IF &CURRENT_CALENDAR_MONTH_NUMBER.LENGTH IS 1 THEN '0' || '&CURRENT_CALENDAR_MONTH_NUMBER.EVAL' ELSE '&CURRENT_CALENDAR_MONTH_NUMBER.EVAL'; 
-SET &PREVIOUS_CALENDAR_MONTH_NUMBER = IF &PREVIOUS_CALENDAR_MONTH_NUMBER.LENGTH IS 1 THEN '0' || '&PREVIOUS_CALENDAR_MONTH_NUMBER.EVAL' ELSE '&PREVIOUS_CALENDAR_MONTH_NUMBER.EVAL'; 
-SET &UPCOMING_CALENDAR_MONTH_NUMBER = IF &UPCOMING_CALENDAR_MONTH_NUMBER.LENGTH IS 1 THEN '0' || '&UPCOMING_CALENDAR_MONTH_NUMBER.EVAL' ELSE '&UPCOMING_CALENDAR_MONTH_NUMBER.EVAL'; 

-SET &CURRENT_CALENDAR_YEARMONTH = &CURRENT_CALENDAR_YEAR_NUMBER || &CURRENT_CALENDAR_MONTH_NUMBER; 
-SET &UPCOMING_CALENDAR_YEARMONTH = &UPCOMING_CALENDAR_YEAR_NUMBER || &UPCOMING_CALENDAR_MONTH_NUMBER; 
-SET &PREVIOUS_CALENDAR_YEARMONTH = &PREVIOUS_CALENDAR_YEAR_NUMBER || &PREVIOUS_CALENDAR_MONTH_NUMBER; 


-TYPE Set the following variables:
-TYPE . PREVIOUS_CALENDAR_YEARMONTH=&PREVIOUS_CALENDAR_YEARMONTH
-TYPE . CURRENT_CALENDAR_YEARMONTH=&CURRENT_CALENDAR_YEARMONTH
-TYPE . UPCOMING_CALENDAR_YEARMONTH=&UPCOMING_CALENDAR_YEARMONTH
-TYPE . 
